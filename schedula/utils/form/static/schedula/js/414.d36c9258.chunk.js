"use strict";(self.webpackChunkschedula_form=self.webpackChunkschedula_form||[]).push([[414,1320],{90414:(e,t,l)=>{l.r(t),l.d(t,{default:()=>m});var n=l(14916),r=l(83099),a=l(51320),o=l(78958),c=l(61431),i=l(49998),u=l(15787),s=l(80184);const d=e=>{let{children:t,render:l,cloudUrl:n,...r}=e;if(n){let e,t={path:".",uiSchema:{"ui:onSelect":()=>{e.destroy()},"ui:cloudUrl":"/item/data","ui:button":!1,"ui:field":"CloudDownloadField"}};return"string"===typeof n?t.uiSchema["ui:cloudUrl"]=n:t={...t,...n,uiSchema:{...t.uiSchema,...n.uiSchema}},(0,s.jsx)(c.Z,{title:"ciao",children:(0,s.jsx)(u.Z,{onClick:n=>{n.stopPropagation(),e=i.Z.confirm({centered:!0,closable:!0,icon:null,width:"90%",wrapClassName:"full-width-modal-confirm-content",footer:null,content:(0,o.R$)({key:"cloud",layout:t,render:l,isArray:!1})})},...r})},"cloud")}return null},m=e=>{let{children:t,render:l,items:o=[],...c}=e;return(0,s.jsx)(n.Z,{size:"small",accordion:!0,...c,children:t.map(((e,t)=>{if(!e)return null;const{copyItems:c=[],cloudUrl:i,...u}=o[t],m=(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(d,{render:l,cloudUrl:i}),(0,s.jsx)(a.default,{render:l,copyItems:c})]});return(0,s.jsx)(n.Z.Panel,{extra:m,...u,children:e},t)}))})}},51320:(e,t,l)=>{l.r(t),l.d(t,{default:()=>z});var n=l(72791),r=l(32014),a=l(66106),o=l(30914),c=l(66818),i=l(61431),u=l(49998),s=l(23414),d=l(10187),m=l(26181),p=l.n(m),h=l(17805),f=l.n(h),y=l(74485),x=l.n(y),Z=l(58121),C=l.n(Z),v=l(25984),g=l(18050),j=l(37481),k=l(93629),w=l.n(k),b=l(80184);const S=e=>"array"===p()(e,"props.schema.type")?e:f()(e,"props.formContext.parent")?S(p()(e,"props.formContext.parent")):null,z=e=>{let{children:t,render:l,copyItems:m={},...h}=e;const{getLocale:f}=(0,j.useLocaleStore)(),y=f("ArrayCopy"),Z=S(p()(l,"formContext.parent",{})),[k,z]=(0,n.useState)([]);if(w()(m)&&(m=m.reduce(((e,t)=>(e[t]=t,e)),{})),Object.keys(m).length&&null!==Z){let e=k;const{keyedFormData:t}=Z.state,{name:n="item",uiSchema:f={}}=Z.props,{arrayItemIndex:j}=l.formContext,{itemLabel:w}=(0,g.LI)(f),S=t.map(((e,t)=>{let{item:l}=e;return{label:(w&&l[w]?"".concat(t,". ").concat(l[w]):null)||"".concat(n,"-").concat(t+1),value:t}})).filter((e=>{let{value:t}=e;return t!==j}));if(S.length>=1){let n;return n=S.length<=5?(0,b.jsx)(r.Z.Group,{options:S,defaultValue:k,onChange:t=>{z(t),e=t},children:(0,b.jsx)(a.Z,{children:S.map(((e,t)=>{let{value:l,label:n}=e;return(0,b.jsx)(o.Z,{span:24,children:(0,b.jsx)(r.Z,{value:l,children:n},t)},t)}))})}):(0,b.jsx)(c.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:y.placeholder,defaultValue:k,onChange:t=>{z(t),e=t},options:S}),(0,b.jsx)(i.Z,{title:y.tooltip,children:(0,b.jsx)(s.Z,{onClick:r=>{r.stopPropagation(),u.Z.confirm({centered:!0,title:y.titleCopyButton,icon:(0,b.jsx)(d.Z,{}),content:n,onOk(){if(e.length){const{onChange:n}=Z.props,r=Object.entries(m).map((e=>{let[t,n]=e;return[n,p()(l.formData,t)]})),a=t.map(((t,l)=>{let{key:n,item:a}=t;return j!==l&&e.includes(l)&&(a=C()(a),n=(0,v.x0)(),r.forEach((e=>{let[t,l]=e;x()(a,t,l)}))),{key:n,item:a}}));Z.setState({...Z.state,keyedFormData:a,updatedKeyedFormData:!0},(()=>{n(a.map((e=>e.item)))}))}}})},...h},"copy")},"copy")}}return null}},15787:(e,t,l)=>{l.d(t,{Z:()=>i});var n=l(1413),r=l(72791);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var o=l(54291),c=function(e,t){return r.createElement(o.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:a}))};c.displayName="CloudOutlined";const i=r.forwardRef(c)},23414:(e,t,l)=>{l.d(t,{Z:()=>i});var n=l(1413),r=l(72791);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var o=l(54291),c=function(e,t){return r.createElement(o.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:a}))};c.displayName="CopyOutlined";const i=r.forwardRef(c)}}]);
//# sourceMappingURL=414.d36c9258.chunk.js.map