"use strict";(self.webpackChunkschedula_form=self.webpackChunkschedula_form||[]).push([[4459],{14459:function(e,r,n){n.r(r),n.d(r,{Store:function(){return j},default:function(){return k}});var t=n(93433),i=n(45987),a=n(1413),o=n(15671),c=n(43144),d=n(60136),u=n(29388),l=(n(72791),n(76688)),s=n(18050),m=n(14516),h=n(81694),f=n.n(h),p=n(45005),x=n(74151),Z=n(37295),y=n(41938),v=n(37481),S=n(55692),g=n(80184),b=["rows","columnIndex","description","removeEmpty","title"];function j(e){return(0,e.children)({getLocale:(0,v.useLocaleStore)().getLocale})}var k=function(e){(0,d.Z)(n,e);var r=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),r.apply(this,arguments)}return(0,c.Z)(n,[{key:"renderNormalArray",value:function(){var e=this;return(0,g.jsx)(j,{children:function(r){var n,o=r.getLocale,c=e.props,d=c.schema,u=c.uiSchema,h=void 0===u?{}:u,v=c.errorSchema,S=c.idSchema,j=c.name,k=c.disabled,w=void 0!==k&&k,I=c.readonly,C=void 0!==I&&I,E=c.autofocus,F=void 0!==E&&E,A=c.required,L=void 0!==A&&A,q=c.registry,D=c.onBlur,P=c.onFocus,T=c.idPrefix,z=c.idSeparator,B=void 0===z?"_":z,N=c.rawErrors,R=c.hideError,$=q.fields,_=q.formContext,H=q.schemaUtils,O=(0,a.Z)((0,a.Z)({},_),{},{parent:e}),G=(0,a.Z)((0,a.Z)({},q),{},{formContext:O}),U=$.SchemaField,J=(0,s.LI)(h),K=J.rows,M=J.columnIndex,Q=void 0===M?{}:M,V=J.description,W=J.removeEmpty,X=void 0!==W&&W,Y=J.title,ee=void 0===Y?void 0===d.title?j:d.title:Y,re=(0,i.Z)(J,b),ne=d.items,te=(n=e.state.keyedFormData,Array.isArray(n)?n.map((function(e){return e.item})):[]),ie=e,ae=new Set(te.reduce((function(e,r){return[].concat((0,t.Z)(e),(0,t.Z)(Object.keys(r)))}),[])),oe=function e(r){return r.filter((function(e){return!X||e.render||ae.has(e.dataIndex)})).map((function(r){return(0,a.Z)((0,a.Z)({},r),{},{children:e(r.children||[])})}))}(K);function ce(e){var r=[(0,a.Z)((0,a.Z)({rowScope:"row"},Q),{},{key:"id",dataIndex:"id"})].concat((0,t.Z)(te.map((function(r,n){var t=function(e){var r=ie.state.keyedFormData;if(void 0===r[n])return null;var t=r[n].item,i=H.retrieveSchema(ne,t),o=v?v[n]:void 0,c=S.$id+B+n,d=H.toIdSchema(i,c,t,"".concat(n,"-").concat(T),B),u=(0,a.Z)((0,a.Z)({},O),{},{arrayItemIndex:n}),l=(0,a.Z)((0,a.Z)({},G),{},{formContext:u});return(0,g.jsx)(U,{name:j&&"".concat(j,"-").concat(e.dataIndex,"-").concat(n),index:n,schema:i,uiSchema:(0,a.Z)((0,a.Z)({},h.items),{},{"ui:layout":(0,a.Z)({},e.hasOwnProperty("dataIndex")?{path:e.dataIndex,uiSchema:(0,a.Z)({"ui:label":"","ui:onlyChildren":!0,"ui:disabled":w,"ui:readonly":C},e.uiSchema)}:e),"ui:onlyChildren":!0}),formData:t,formContext:u,errorSchema:o,idPrefix:"".concat(n,"-").concat(T),idSeparator:B,idSchema:d,required:ie.isItemRequired(i),onChange:ie.onChangeForIndex(n),onBlur:D,onFocus:P,registry:l,disabled:w,readonly:C,hideError:R,autofocus:F&&0===n,rawErrors:N},"".concat(j,"-").concat(n))};return{key:n,dataIndex:n,title:t(Q),render:function(r,n,i){return t(e[i])}}})))),n=e.map((function(e,r){return te.reduce((function(r,n,t){return r[t]=n[e.dataIndex],r}),{id:e.title,key:r})})),i={expandedRowRender:function(r){return(0,g.jsx)(l.Z,(0,a.Z)({size:re.size||"small"},ce(e[r.key].children)))},rowExpandable:function(r){return(e[r.key].children||[]).length>0},expandIcon:function(r){var n=r.expanded,t=r.onExpand,i=r.record;return(e[i.key].children||[]).length>0?n?(0,g.jsx)(Z.Z,{onClick:function(e){return t(i,e)}}):(0,g.jsx)(y.Z,{onClick:function(e){return t(i,e)}}):null}};return{showHeader:!1,className:"vertical-table",columns:n.length?r:[],dataSource:n,pagination:!1,expandable:i}}var de=O.labelAlign,ue=void 0===de?"right":de,le=O.rowGutter,se=void 0===le?24:le,me=(0,s.t4)("ArrayFieldDescriptionTemplate",G,J),he=(0,s.t4)("ArrayFieldTitleTemplate",G,J);return(0,g.jsx)(m.ConfigConsumer,{children:function(e){var r=(0,e.getPrefixCls)("form"),n="".concat(r,"-item-label"),t=f()(n,"left"===ue&&"".concat(n,"-left"),"ant-table-label-custom");return(0,g.jsx)(l.Z,(0,a.Z)((0,a.Z)({locale:o("Table"),caption:(0,g.jsx)(x.Z,{justify:"space-between",align:"middle",children:(0,g.jsx)(p.Z,{children:(0,g.jsxs)(x.Z,{gutter:se,children:[ee&&(0,g.jsx)(p.Z,{className:t,span:24,children:(0,g.jsx)(he,{idSchema:S,required:L,title:ee,schema:d,uiSchema:h,registry:G})}),(V||d.description)&&(0,g.jsx)(p.Z,{span:24,style:{paddingBottom:"8px"},children:(0,g.jsx)(me,{description:V||d.description||"",idSchema:S,schema:d,uiSchema:h,registry:G})})]})})}),size:"small"},ce(oe)),{},{showHeader:!0},re),S.$id)}},S.$id)}})}}]),n}(S.Z)}}]);
//# sourceMappingURL=4459.debf693a.chunk.js.map