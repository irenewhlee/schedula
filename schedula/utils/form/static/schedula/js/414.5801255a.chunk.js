"use strict";(self.webpackChunkschedula_form=self.webpackChunkschedula_form||[]).push([[414,1320],{90414:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(1413),o=t(45987),c=t(14916),a=t(83099),l=t(51320),i=t(78958),u=t(61431),d=t(49998),s=t(15787),f=t(80184),m=["children","render","cloudUrl"],p=function(e){e.children;var n=e.render,t=e.cloudUrl,c=(0,o.Z)(e,m);if(t){var a,l={path:".",uiSchema:{"ui:onSelect":function(){a.destroy()},"ui:cloudUrl":"/item/data","ui:button":!1,"ui:field":"CloudDownloadField"}};return"string"===typeof t?l.uiSchema["ui:cloudUrl"]=t:l=(0,r.Z)((0,r.Z)((0,r.Z)({},l),t),{},{uiSchema:(0,r.Z)((0,r.Z)({},l.uiSchema),t.uiSchema)}),(0,f.jsx)(u.Z,{title:"ciao",children:(0,f.jsx)(s.Z,(0,r.Z)({onClick:function(e){e.stopPropagation(),a=d.Z.confirm({centered:!0,closable:!0,icon:null,width:"90%",wrapClassName:"full-width-modal-confirm-content",footer:null,content:(0,i.R$)({key:"cloud",layout:l,render:n,isArray:!1})})}},c))},"cloud")}return null},h=["children","render","items"],Z=["copyItems","cloudUrl"],v=function(e){var n=e.children,t=e.render,i=e.items,u=void 0===i?[]:i,d=(0,o.Z)(e,h);return(0,f.jsx)(c.Z,(0,r.Z)((0,r.Z)({size:"small",accordion:!0},d),{},{children:n.map((function(e,n){if(!e)return null;var i=u[n],d=i.copyItems,s=void 0===d?[]:d,m=i.cloudUrl,h=(0,o.Z)(i,Z),v=(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(p,{render:t,cloudUrl:m}),(0,f.jsx)(l.default,{render:t,copyItems:s})]});return(0,f.jsx)(c.Z.Panel,(0,r.Z)((0,r.Z)({extra:v},h),{},{children:e}),n)}))}))}},51320:function(e,n,t){t.r(n);var r=t(1413),o=t(29439),c=t(45987),a=t(72791),l=t(32014),i=t(66106),u=t(30914),d=t(66818),s=t(61431),f=t(49998),m=t(23414),p=t(10187),h=t(26181),Z=t.n(h),v=t(17805),y=t.n(v),x=t(74485),C=t.n(x),g=t(58121),j=t.n(g),k=t(25984),w=t(18050),b=t(37481),S=t(93629),I=t.n(S),z=t(80184),H=["children","render","copyItems"],U=function e(n){return"array"===Z()(n,"props.schema.type")?n:y()(n,"props.formContext.parent")?e(Z()(n,"props.formContext.parent")):null};n.default=function(e){e.children;var n=e.render,t=e.copyItems,h=void 0===t?{}:t,v=(0,c.Z)(e,H),y=(0,(0,b.useLocaleStore)().getLocale)("ArrayCopy"),x=U(Z()(n,"formContext.parent",{})),g=(0,a.useState)([]),S=(0,o.Z)(g,2),V=S[0],D=S[1];if(I()(h)&&(h=h.reduce((function(e,n){return e[n]=n,e}),{})),Object.keys(h).length&&null!==x){var L,M=V,O=x.state.keyedFormData,F=x.props,A=F.name,B=void 0===A?"item":A,E=F.uiSchema,N=void 0===E?{}:E,P=n.formContext.arrayItemIndex,R=(0,w.LI)(N).itemLabel,_=O.map((function(e,n){var t=e.item;return{label:(R&&t[R]?"".concat(n,". ").concat(t[R]):null)||"".concat(B,"-").concat(n+1),value:n}})).filter((function(e){return e.value!==P}));if(_.length>=1)return L=_.length<=5?(0,z.jsx)(l.Z.Group,{options:_,defaultValue:V,onChange:function(e){D(e),M=e},children:(0,z.jsx)(i.Z,{children:_.map((function(e,n){var t=e.value,r=e.label;return(0,z.jsx)(u.Z,{span:24,children:(0,z.jsx)(l.Z,{value:t,children:r},n)},n)}))})}):(0,z.jsx)(d.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:y.placeholder,defaultValue:V,onChange:function(e){D(e),M=e},options:_}),(0,z.jsx)(s.Z,{title:y.tooltip,children:(0,z.jsx)(m.Z,(0,r.Z)({onClick:function(e){e.stopPropagation(),f.Z.confirm({centered:!0,title:y.titleCopyButton,icon:(0,z.jsx)(p.Z,{}),content:L,onOk:function(){if(M.length){var e=x.props.onChange,t=Object.entries(h).map((function(e){var t=(0,o.Z)(e,2),r=t[0];return[t[1],Z()(n.formData,r)]})),c=O.map((function(e,n){var r=e.key,c=e.item;return P!==n&&M.includes(n)&&(c=j()(c),r=(0,k.x0)(),t.forEach((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];C()(c,t,r)}))),{key:r,item:c}}));x.setState((0,r.Z)((0,r.Z)({},x.state),{},{keyedFormData:c,updatedKeyedFormData:!0}),(function(){e(c.map((function(e){return e.item})))}))}}})}},v),"copy")},"copy")}return null}},15787:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(1413),o=t(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"},a=t(54291),l=function(e,n){return o.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};l.displayName="CloudOutlined";var i=o.forwardRef(l)},23414:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(1413),o=t(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},a=t(54291),l=function(e,n){return o.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};l.displayName="CopyOutlined";var i=o.forwardRef(l)}}]);
//# sourceMappingURL=414.5801255a.chunk.js.map