"use strict";(self.webpackChunkschedula_form=self.webpackChunkschedula_form||[]).push([[9009],{99009:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var o=r(10916),t=r(49389),a=r(87309),n=r(72791),i=r(38999),d=r(37481),c=r(96143),l=r(90868),p=r(80184);function u(e){let{form:s,urlResetPassword:r,setOpen:u,setSpinning:m,setAuth:h}=e;const[f,w]=(0,n.useState)({}),{query:{token:g=null}}=(0,c.l)(),{getLocale:v}=(0,d.useLocaleStore)(),x=v("User.ResetPassword");return(0,p.jsxs)(o.Z,{style:{maxWidth:"300px",margin:"auto",paddingBottom:"15px"},onFinish:e=>{m(!0),(0,l.Z)({url:"".concat(r,"/").concat(g),data:e,form:s}).then((e=>{let{data:r,messages:o}=e;if(m(!1),o&&o.forEach((e=>{let[r,o]=e;s.props.notify({type:r,message:o})})),r.error)s.props.notify({message:x.errorTitle,description:(r.errors||[r.error]).join("\n")}),r.field_errors&&w(r.field_errors||{});else{const{response:e={}}=r,{user:o={}}=e;s.setState({...s.state,userInfo:o,submitCount:s.state.submitCount+1}),u(!1)}})).catch((e=>{m(!1),s.props.notify({message:x.errorTitle,description:e.message})}))},children:[(0,p.jsx)(o.Z.Item,{name:"password",validateStatus:f.password?"error":void 0,help:f.password,rules:[{required:!0,message:x.passwordRequired}],hasFeedback:!0,children:(0,p.jsx)(t.Z,{prefix:(0,p.jsx)(i.Z,{className:"site-form-item-icon"}),type:"password",placeholder:x.passwordPlaceholder,onChange:()=>{f.password&&w({...f,password:void 0})}})}),(0,p.jsx)(o.Z.Item,{name:"password_confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:x.passwordConfirmRequired},e=>{let{getFieldValue:s}=e;return{validator:(e,r)=>r&&s("password")!==r?Promise.reject(new Error(x.passwordConfirmError)):Promise.resolve()}}],children:(0,p.jsx)(t.Z,{prefix:(0,p.jsx)(i.Z,{className:"site-form-item-icon"}),type:"password",placeholder:x.passwordConfirmPlaceholder,onChange:()=>{f.password_confirm&&w({...f,password_confirm:void 0})}})}),(0,p.jsxs)(o.Z.Item,{children:[(0,p.jsx)(a.ZP,{type:"primary",htmlType:"submit",style:{width:"100%"},children:x.submitButton}),(0,p.jsxs)("div",{style:{width:"100%"},children:[x.or," ",(0,p.jsx)("a",{href:"#login",onClick:()=>{h("login")},children:x.login})]})]})]})}},96143:(e,s,r)=>{r.d(s,{l:()=>a});var o=r(49794),t=r(72791);const[a]=(0,o.jk)((function(){const[e,s]=(0,t.useState)({});return{query:e,setQuery:s}}))},38999:(e,s,r)=>{r.d(s,{Z:()=>d});var o=r(1413),t=r(72791);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};var n=r(54291),i=function(e,s){return t.createElement(n.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:s,icon:a}))};i.displayName="LockOutlined";const d=t.forwardRef(i)}}]);
//# sourceMappingURL=9009.38d1e8dc.chunk.js.map