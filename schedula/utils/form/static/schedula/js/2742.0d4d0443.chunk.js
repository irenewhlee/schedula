"use strict";(self.webpackChunkschedula_form=self.webpackChunkschedula_form||[]).push([[2742],{72742:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var s=r(1413),n=r(29439),a=r(10916),i=r(49389),o=r(83099),c=r(87309),l=r(72791),u=r(15458),m=r(65323),d=r(23605),f=r(37481),h=r(90868),p=r(18111),Z=r.n(p),v=r(36460),g=r.n(v),x=r(80184);function j(e){var t=e.form,r=e.userInfo,p=e.urlSettings,v=e.setOpen,j=e.setSpinning,b=(0,l.useState)({}),y=(0,n.Z)(b,2),S=y[0],C=y[1],z=a.Z.useForm(),I=(0,n.Z)(z,1)[0],k=(0,(0,f.useLocaleStore)().getLocale)("User.Setting"),H=g()(r,["firstname","lastname"]),V=(0,l.useState)(!1),q=(0,n.Z)(V,2),w=q[0],B=q[1];return(0,x.jsxs)(a.Z,{form:I,style:{maxWidth:"300px",margin:"auto",paddingBottom:"15px"},initialValues:H,onValuesChange:function(e,t){B(!Z()(t,H))},onFinish:function(e){j(!0),(0,h.Z)({url:p,data:e,form:t}).then((function(e){var r=e.data,a=e.messages;if(j(!1),a&&a.forEach((function(e){var r=(0,n.Z)(e,2),s=r[0],a=r[1];t.props.notify({type:s,message:a})})),r.error)t.props.notify({message:k.errorTitle,description:(r.errors||[r.error]).join("\n")}),r.field_errors&&C(r.field_errors||{});else{var i=r.response,o=(void 0===i?{}:i).user,c=void 0===o?{}:o;t.setState((0,s.Z)((0,s.Z)({},t.state),{},{userInfo:c,submitCount:t.state.submitCount+1})),v(!1)}})).catch((function(e){j(!1),t.props.notify({message:k.errorTitle,description:e.message})}))},children:[(0,x.jsx)(a.Z.Item,{name:"firstname",validateStatus:S.firstname?"error":void 0,help:S.firstname,rules:[{required:!0,message:k.firstnameRequired}],children:(0,x.jsx)(i.Z,{prefix:(0,x.jsx)(u.Z,{className:"site-form-item-icon"}),placeholder:k.firstnamePlaceholder,onChange:function(){S.firstname&&C((0,s.Z)((0,s.Z)({},S),{},{firstname:void 0}))}})}),(0,x.jsx)(a.Z.Item,{name:"lastname",validateStatus:S.lastname?"error":void 0,help:S.lastname,rules:[{required:!0,message:k.lastnameRequired}],children:(0,x.jsx)(i.Z,{prefix:(0,x.jsx)(u.Z,{className:"site-form-item-icon"}),placeholder:k.lastnamePlaceholder,onChange:function(){S.lastname&&C((0,s.Z)((0,s.Z)({},S),{},{lastname:void 0}))}})}),(0,x.jsx)(a.Z.Item,{children:(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(c.ZP,{type:"primary",htmlType:"submit",disabled:!w,icon:(0,x.jsx)(m.Z,{}),children:k.submitButton}),(0,x.jsx)(c.ZP,{icon:(0,x.jsx)(d.Z,{}),onClick:function(){I.setFieldsValue(H),B(!1)},disabled:!w,children:k.revertButton})]})})]})}},15458:function(e,t,r){r.d(t,{Z:function(){return c}});var s=r(1413),n=r(72791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"},i=r(54291),o=function(e,t){return n.createElement(i.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:a}))};o.displayName="IdcardOutlined";var c=n.forwardRef(o)}}]);
//# sourceMappingURL=2742.0d4d0443.chunk.js.map