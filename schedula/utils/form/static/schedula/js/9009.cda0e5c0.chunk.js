"use strict";(self.webpackChunkschedula_form=self.webpackChunkschedula_form||[]).push([[9009],{99009:function(e,r,s){s.r(r),s.d(r,{default:function(){return m}});var o=s(1413),t=s(29439),n=s(10916),a=s(49389),i=s(87309),c=s(72791),d=s(38999),u=s(37481),l=s(96143),f=s(90868),p=s(80184);function m(e){var r=e.form,s=e.urlResetPassword,m=e.setOpen,h=e.setSpinning,v=e.setAuth,w=(0,c.useState)({}),Z=(0,t.Z)(w,2),g=Z[0],x=Z[1],y=(0,l.l)().query.token,j=void 0===y?null:y,k=(0,(0,u.useLocaleStore)().getLocale)("User.ResetPassword");return(0,p.jsxs)(n.Z,{style:{maxWidth:"300px",margin:"auto",paddingBottom:"15px"},onFinish:function(e){h(!0),(0,f.Z)({url:"".concat(s,"/").concat(j),data:e,form:r}).then((function(e){var s=e.data,n=e.messages;if(h(!1),n&&n.forEach((function(e){var s=(0,t.Z)(e,2),o=s[0],n=s[1];r.props.notify({type:o,message:n})})),s.error)r.props.notify({message:k.errorTitle,description:(s.errors||[s.error]).join("\n")}),s.field_errors&&x(s.field_errors||{});else{var a=s.response,i=(void 0===a?{}:a).user,c=void 0===i?{}:i;r.setState((0,o.Z)((0,o.Z)({},r.state),{},{userInfo:c,submitCount:r.state.submitCount+1})),m(!1)}})).catch((function(e){h(!1),r.props.notify({message:k.errorTitle,description:e.message})}))},children:[(0,p.jsx)(n.Z.Item,{name:"password",validateStatus:g.password?"error":void 0,help:g.password,rules:[{required:!0,message:k.passwordRequired}],hasFeedback:!0,children:(0,p.jsx)(a.Z,{prefix:(0,p.jsx)(d.Z,{className:"site-form-item-icon"}),type:"password",placeholder:k.passwordPlaceholder,onChange:function(){g.password&&x((0,o.Z)((0,o.Z)({},g),{},{password:void 0}))}})}),(0,p.jsx)(n.Z.Item,{name:"password_confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:k.passwordConfirmRequired},function(e){var r=e.getFieldValue;return{validator:function(e,s){return s&&r("password")!==s?Promise.reject(new Error(k.passwordConfirmError)):Promise.resolve()}}}],children:(0,p.jsx)(a.Z,{prefix:(0,p.jsx)(d.Z,{className:"site-form-item-icon"}),type:"password",placeholder:k.passwordConfirmPlaceholder,onChange:function(){g.password_confirm&&x((0,o.Z)((0,o.Z)({},g),{},{password_confirm:void 0}))}})}),(0,p.jsxs)(n.Z.Item,{children:[(0,p.jsx)(i.ZP,{type:"primary",htmlType:"submit",style:{width:"100%"},children:k.submitButton}),(0,p.jsxs)("div",{style:{width:"100%"},children:[k.or," ",(0,p.jsx)("a",{href:"#login",onClick:function(){v("login")},children:k.login})]})]})]})}},96143:function(e,r,s){s.d(r,{l:function(){return i}});var o=s(29439),t=s(49794),n=s(72791);var a=(0,t.jk)((function(){var e=(0,n.useState)({}),r=(0,o.Z)(e,2);return{query:r[0],setQuery:r[1]}})),i=(0,o.Z)(a,1)[0]},38999:function(e,r,s){s.d(r,{Z:function(){return c}});var o=s(1413),t=s(72791),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},a=s(54291),i=function(e,r){return t.createElement(a.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:r,icon:n}))};i.displayName="LockOutlined";var c=t.forwardRef(i)}}]);
//# sourceMappingURL=9009.cda0e5c0.chunk.js.map